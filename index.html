<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>Parallax Test</title>
		<link href="styles.css" rel="stylesheet" />
	</head>
	<body>
		<div class="container">
		
			<!-- each background slide has a width of 100vw -->
			<div class="carousel carousel--background">
				<div class="slide-1 slide">
					<div class="layer">
						<div class="repeated-background width-minus-755px" style="background-image:url(media/images/slide-1/mountains-3-left-repeat.png)"></div>
						<img style="width:755px" src="media/images/slide-1/mountains-3-main.png" />
					</div>
					<div class="layer">
						<img style="position:absolute;right:38px;top:130px" src="media/images/slide-1/cloud-1.png" />
					</div>
				</div>
				<div class="slide-2 slide">
					<div class="layer">
						<img style="width:100px" src="media/images/slide-2/mountains-3-left.png" />
						<div class="repeated-background width-minus-100px" style="background-image:url(media/images/slide-2/mountains-3-repeat.png?v=3)"></div>
						<img style="width:100px" src="media/images/slide-2/mountains-3-right.png" />
					</div>
					<div class="layer">
						<img style="position:absolute;bottom:0;left:calc(100px + 20vw);width:200px;" src="media/images/slide-2/mountains-3-graph-bars.png" />
					</div>
				</div>
				<div class="slide-3 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 3 background</div>
					</div>
				</div>
				<div class="slide-4 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 4 background</div>
					</div>
				</div>
				<div class="slide-5 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 5 background</div>
					</div>
				</div>
				<div class="slide-6 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 6 background</div>
					</div>
				</div>
				<div class="slide-7 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 7 background</div>
					</div>
				</div>
				<div class="slide-8 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 8 background</div>
					</div>
				</div>
				<div class="slide-9 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 9 background</div>
					</div>
				</div>
				<div class="slide-10 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 10 background</div>
					</div>
				</div>
				<div class="slide-11 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 11 background</div>
					</div>
				</div>
				<div class="slide-12 slide">
					<div class="layer">
						<div style="width:100%;text-align:center">slide 12 background</div>
					</div>
				</div>
			</div>
			
			<!-- each slide is 150vw -->
			<div class="carousel carousel--midground">
				<div class="slide-1 slide">
					<div class="layer">
						<div class="repeated-background width-minus-756px" style="background-image:url(media/images/slide-1/mountains-2-left-repeat.png)"></div>
						<img src="media/images/slide-1/mountains-2-main.png" />
					</div>
					<div class="layer">
						<img style="position:absolute;top:130px;right:80px;" src="media/images/slide-1/cloud-2.png" />
					</div>
				</div>
				<div class="slide-2 slide">
					<div class="layer">
						<img style="width:100px" src="media/images/slide-2/mountains-2-left.png" />
						<div class="repeated-background width-minus-100px" style="background-image:url(media/images/slide-2/mountains-2-repeat.png)"></div>
						<img style="width:100px" src="media/images/slide-2/mountains-2-right.png" />
					</div>
					<div class="layer">
						<img style="position:absolute;bottom:0;left:calc(100px + 80vw);width:300px" src="media/images/slide-2/mountains-2-graph-bars.png" />
					</div>
				</div>
				<div class="slide-3 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 3 midground</div>
					</div>
				</div>
				<div class="slide-4 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 4 midground</div>
					</div>
				</div>
				<div class="slide-5 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 5 midground</div>
					</div>
				</div>
				<div class="slide-6 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 6 midground</div>
					</div>
				</div>
				<div class="slide-7 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 7 midground</div>
					</div>
				</div>
				<div class="slide-8 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 8 midground</div>
					</div>
				</div>
				<div class="slide-9 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 9 midground</div>
					</div>
				</div>
				<div class="slide-10 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 10 midground</div>
					</div>
				</div>
				<div class="slide-11 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 11 midground</div>
					</div>
				</div>
				<div class="slide-12 slide">
					<div class="layer">
						<div style="width:150vw;margin-bottom:40px;text-align:right"><br /><br />slide 12 midground</div>
					</div>
				</div>
			</div>
			
			<!-- each layer is 200vw -->
			<div class="carousel carousel--foreground">
				<div class="slide-1 slide">
					<div class="layer">
						<div class="repeated-background width-minus-756px" style="background-image:url(media/images/slide-1/mountains-1-left-repeat.png)"></div>
						<img src="media/images/slide-1/mountains-1-main.png" />
					</div>
				</div>
				<div class="slide-2 slide">
					<div class="layer">
						<img style="width:100px" src="media/images/slide-2/mountains-1-left.png" />
						<div class="repeated-background width-minus-100px" style="background-image:url(media/images/slide-2/mountains-1-repeat.png)"></div>
						<img style="width:100px" src="media/images/slide-2/mountains-1-right.png" />
					</div>
					<div class="layer">
						<img style="position:absolute;bottom:0;left:calc(200px + 130vw);width:200px" src="media/images/slide-2/mountains-1-graph-bars.png" />
					</div>
				</div>
				<div class="slide-3 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 3 foreground</div>
					</div>
				</div>
				<div class="slide-4 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 4 foreground</div>
					</div>
				</div>
				<div class="slide-5 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 5 foreground</div>
					</div>
				</div>
				<div class="slide-6 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 6 foreground</div>
					</div>
				</div>
				<div class="slide-7 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 7 foreground</div>
					</div>
				</div>
				<div class="slide-8 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 8 foreground</div>
					</div>
				</div>
				<div class="slide-9 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 9 foreground</div>
					</div>
				</div>
				<div class="slide-10 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 10 foreground</div>
					</div>
				</div>
				<div class="slide-11 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 11 foreground</div>
					</div>
				</div>
				<div class="slide-12 slide">
					<div class="layer">
						<div style="width:100%;text-align:right;margin-bottom:150px"><br /><br /><br /><br />slide 12 foreground</div>
					</div>
				</div>
			</div>
			<div class="text-overlay">
				<div class="text-slide-1 text-slide">
					<img class="text-slide-1__cfd-logo" src="media/images/slide-1/cfd-logo.png" />
					<img class="text-slide-1__intro-text" src="media/images/slide-1/text.png" />
				</div>
				<div class="text-slide-2 text-slide">
					<h2>Year in Numbers</h2>
				</div>
				<div class="text-slide-3 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-4 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-5 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-6 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-7 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-8 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-9 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-10 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-11 text-slide">
					<!-- TODO -->
				</div>
				<div class="text-slide-12 text-slide">
					<!-- TODO -->
				</div>
			</div>
			<div style="position:absolute;top:0px;width:100vw;height:100vh;">
				<a style="position:absolute;top:0px;left:0px;color:black" href="#" class="animate-button--previous">Previous</a>
				<a style="position:absolute;top:0px;right:0px;color:black" href="#" class="animate-button--next">Next</a>
			</div>
		</div>
		<script src="jquery.js"></script>
		<script type="text/javascript">
			$(function() {
				$(".animate-button--next").click(function(e) {
					e.preventDefault();
					nextSlide();
				});
				$(".animate-button--previous").click(function(e) {
					e.preventDefault();
					previousSlide();
				});
				// initial animation
				$(".text-slide-1").fadeIn(2000);
				//set start states for other animations
				$(".text-slide-2 h2").slideUp(0);
			});
		
			var currentSlide = 1;
			var slideTransitionTime = 3000; //in ms
			function nextSlide() {
				$(".carousel").removeClass("position-" + currentSlide);
				animateTextOut(currentSlide);
				currentSlide++;
				$(".carousel").addClass("position-" + currentSlide);
				setTimeout(function() {
					animateTextIn(currentSlide);
				}, slideTransitionTime - 500);
			}
			function previousSlide() {
				$(".carousel").removeClass("position-" + currentSlide);
				animateTextOut(currentSlide);
				currentSlide--;
				$(".carousel").addClass("position-" + currentSlide);
				setTimeout(function() {
					animateTextIn(currentSlide);
				}, slideTransitionTime - 500);
			}
			function animateTextIn(slide) {
				switch (slide) {
					case 1:
						$(".text-slide-1__cfd-logo").css("bottom", "");
						$(".text-slide-1__intro-text").fadeIn();
						break;
					case 2:
						$(".text-slide-2").show();
						$(".text-slide-2 h2").slideDown();
						break;
				}
			}
			function animateTextOut(slide) {
				switch (slide) {
					case 1:
						$(".text-slide-1__cfd-logo").css("bottom", "-100px");
						$(".text-slide-1__intro-text").fadeOut();
						break;
					case 2:
						var animationTime = 800;
						$(".text-slide-2 h2").slideUp(animationTime);
						setTimeout(function() {
							$(".text-slide-2").hide();
						}, animationTime);
						break;
				}
			}
		</script>
	</body>
</html>